{"categories":[{"title":"cat","uri":"https://leeggco.com/categories/cat/"},{"title":"Node.js","uri":"https://leeggco.com/categories/node.js/"}],"posts":[{"content":"MariaDB å®‰è£…\nsudo yum install MariaDB-server MariaDB-client  å¯åŠ¨\nservice mysql start  è®¾ç½®rootç”¨æˆ·å¯†ç \nmysqladmin -u root password \u0026quot;mypassword\u0026quot;  ç™»å½•\nmysql -uroot -p  Adonis adonisæ”¯æŒ PostgreSQLï¼ŒSQLiteï¼ŒMySQLï¼ŒMariaDBï¼ŒOracleï¼ŒMSSQL æ•°æ®åº“ï¼Œé»˜è®¤ä¸ºSQLiteã€‚åœ¨ config/database ä¸­ä¿®æ”¹é…ç½®ã€‚\né…ç½®æ•°æ®åº“\nconnection: Env.get('DB_CONNECTION', 'mysql'),  åˆ›å»ºæ•°æ®åº“æ¨¡å‹ï¼ˆModelï¼‰\nadonis make:model posts  åˆ›å»ºè¿ç§»ï¼ˆmigrationï¼‰\næ•°æ®åº“è¿ç§»æ˜¯ä¸€ç§ä»ä»£ç åˆ›å»ºï¼Œæ›´æ”¹å’Œåˆ é™¤æ•°æ®åº“è¡¨è€Œä¸æ˜¯ç¼–å†™SQLæŸ¥è¯¢çš„è¿‡ç¨‹ã€‚\nadonis make:migration posts  æŸ¥çœ‹çŠ¶æ€\nadonis migration:status  æ‰§è¡Œè¿ç§»ï¼Œåˆ›å»ºè¡¨æ ¼\nadonis migration:run  PM2 pm2 start server.js  ","id":0,"section":"posts","summary":"MariaDB å®‰è£… sudo yum install MariaDB-server MariaDB-client å¯åŠ¨ service mysql start è®¾ç½®rootç”¨æˆ·å¯†ç  mysqladmin -u root password \u0026quot;mypassword\u0026quot; ç™»å½• mysql -uroot -p Adonis adonisæ”¯æŒ PostgreSQLï¼ŒSQLiteï¼ŒMySQLï¼ŒMari","tags":["adonis"],"title":"Adonis â€”â€” MariaDB æ•°æ®åº“åŸºæœ¬æ“ä½œ","uri":"https://leeggco.com/2020/04/adonis-04/","year":"2020"},{"content":"æŸ¥è¯¢å‚æ•°query \u0026amp; params\nRoute.get('/posts', ({ request }) =\u0026gt; { return request.get() })  ä½¿ç”¨post è¯·æ±‚\nRoute.post('/posts', ({ request }) =\u0026gt; request.post())  åŒæ—¶å¾—åˆ°è¯·æ±‚åœ°å€çš„å‚æ•°ï¼Œä½¿ç”¨request.all()\nRoute.post('/posts', ({ request }) =\u0026gt; request.all())  è·å–æŒ‡å®šå‚æ•°ï¼Œä½¿ç”¨request.only()\nRoute.post('/posts', ({ request }) =\u0026gt; request.only(['title', 'content']))  æ’é™¤æ•°æ®ï¼Œä½¿ç”¨request.except()\nRoute.post('/posts', ({ request }) =\u0026gt; request.except(['title', 'content']))  è·å–æŒ‡å®šå‚æ•°ï¼Œä½¿ç”¨request.input()\nRoute.post('/posts', ({ request }) =\u0026gt; request.input('status', 'é»˜è®¤'))  Form è¡¨å•æ•°æ®\n{ \u0026quot;title\u0026quot;: [ \u0026quot;Lemon\u0026quot;, \u0026quot;Bnanna\u0026quot; ], \u0026quot;content\u0026quot;: [ \u0026quot;ğŸ‹\u0026quot;, \u0026quot;ğŸŒ\u0026quot; ] } Route.post('/posts', ({ request }) =\u0026gt; request.collet(['title', 'content']))  è‡ªåŠ¨è½¬æ¢ï¼Œä½¿ç”¨request.collect\nRoute.post('/posts', ({ request }) =\u0026gt; request.collect(['title', 'content']))  è·å–æ‰€æœ‰å¤´éƒ¨ä¿¡æ¯\nRoute.get('/posts', ({ request }) =\u0026gt; request.headers())  è·å–æŒ‡å®šä¿¡æ¯\nRoute.get('/posts', ({ request }) =\u0026gt; request.header('user-agent'))  è®¾ç½®å“åº”å¤´éƒ¨ä¿¡æ¯\nRoute.get('/posts', ({ request, response }) =\u0026gt; { // response.header('Content-type', 'text/plain') // ç®€å†™ response.type('text') return '\u0026lt;h1\u0026gt;List of posts.\u0026lt;/h1\u0026gt;' })  Cookies è®¾ç½®ä¸è·å–\nRoute.get('/posts', ({ request, response }) =\u0026gt; { // è®¾ç½®cookie response.cookie('theme', 'dark') // è·å–cookie // request.cookie('theme', 'é»˜è®¤') // åˆ é™¤cookie response.clearCookie('theme') return request.cookies() })  Response å“åº”\nRoute.get('/posts', ({ response }) =\u0026gt; { // response.send('List of response') // return 'List of return.' // ä¼šè‡ªåŠ¨å°†å¯¹è±¡å’Œç»„æ•°è½¬æ¢æˆJSON return { 'title': 'hello' } })  å¼‚æ­¥å“åº”\nconst delay = (data, time) =\u0026gt; { return new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { resolve(data) }, time); }) } Route.get('/posts', async ({ response }) =\u0026gt; { const data = await delay('List of Posts.', 3000) return data })  é‡å®šå‘ Redirects\nRoute.get('/list-of-posts', ({ response }) =\u0026gt; { // response.redirect('/posts', true, 301) response.route('list-of-posts') }) Route.get('/list-of-food-posts', ({ response }) =\u0026gt; { // response.redirect('/posts', true, 301) response.route('list-of-posts', { category: 'food' }) }) Route.get('/posts/:category?', ({ params }) =\u0026gt; { return `List of ${ params.category || 'default' } Posts.` }).as('list-of-posts')  å®Œæ•´æºç \n","id":1,"section":"posts","summary":"æŸ¥è¯¢å‚æ•°query \u0026amp; params Route.get('/posts', ({ request }) =\u0026gt; { return request.get() }) ä½¿ç”¨post è¯·æ±‚ Route.post('/posts', ({ request }) =\u0026gt; request.post()) åŒæ—¶å¾—åˆ°è¯·æ±‚åœ°å€çš„å‚æ•°ï¼Œä½¿ç”¨request.all() Route.post('/posts', ({ request }) =\u0026gt; request.all()) è·å–æŒ‡","tags":["adonis"],"title":"Adonis â€”â€” è¯·æ±‚","uri":"https://leeggco.com/2020/04/adonis-03/","year":"2020"},{"content":"get è¯·æ±‚\nRoute.get('/posts', () =\u0026gt; 'Get has been created.')  post è¯·æ±‚\nRoute.post('/posts', () =\u0026gt; 'Post has been created.')  createÂ åˆ›å»ºï¼Œè¿™é‡Œæœ‰ä¸ªé‡å¤è·¯ç”±çš„é—®é¢˜ï¼Œéœ€è¦æ”¾åœ¨posts/:id çš„å‰é¢\nRoute.get('/posts/create', 'PostController.create')  è¯·æ±‚æŒ‡å®šæ•°æ®ï¼Œå¦‚æœä¸å¸Œæœ›å¼ºåˆ¶ä¼ å…¥id åˆ™å¯ä»¥ä½¿ç”¨ /posts/:id?\nRoute.get('/posts/:id',Â ({Â paramsÂ })Â =\u0026gt;Â { return`You'reÂ watchingÂ postÂ ${params.id}` })  patchÂ æ›´æ–°\nRoute.patch('/posts/:id', ({ params }) =\u0026gt; { return`Post ${params.id} has been updated.` })  deleteÂ åˆ é™¤\nRoute.delete('/posts/:id', ({ params }) =\u0026gt; { return`Post ${params.id} has been removed.` })  editÂ ç¼–è¾‘\nRoute.get('/posts/:id/edit', 'PostController.edit')  èµ„æºè·¯ç”±\n// å› ä¸ºä»¥ä¸Šè¯·æ±‚æ–¹å¼éå¸¸å¸¸è§ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨èµ„æºè·¯ç”±æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœ Route .resource('posts', 'PostController') // æ’é™¤è¯·æ±‚ç±»å‹ // .except(['index']) // .only æŒ‡å®šå¯ç”¨çš„è¯·æ±‚ // .only(['index', 'show']) // .apiOnly()  è·¯ç”±å‘½å\nRoute .get('/user---name', () =\u0026gt; 'List of users.') .as('users.index')  è·¯ç”±æ ¼å¼\nRoute.get('/users', ({ request }) =\u0026gt; { switch (request.format()) { case 'json': return [ { name: 'york'}, { name: 'leeggco'} ] default: return '- york- leeggco' } }).formats(['json']) // å¼ºåˆ¶æ ¼å¼ // .formats(['json', 'html'], true) // http://127.0.0.1:3333/users.json // http://127.0.0.1:3333/users  è·¯ç”±ç¾¤ç»„\nRoute .group(() =\u0026gt; { Route.get('users', () =\u0026gt; 'Manage users') Route.get('posts', () =\u0026gt; 'Manage posts') }) .prefix('admin') // http://127.0.0.1:3333/admin/users // http://127.0.0.1:3333/admin/posts  å•é¡µåº”ç”¨çš„è·¯ç”±\nRoute.any('*', ({ view }) =\u0026gt; view.render('welcome')) // http://127.0.0.1:3333/any  å®Œæ•´ä»£ç \n","id":2,"section":"posts","summary":"get è¯·æ±‚ Route.get('/posts', () =\u0026gt; 'Get has been created.') post è¯·æ±‚ Route.post('/posts', () =\u0026gt; 'Post has been created.') create åˆ›å»ºï¼Œè¿™é‡Œæœ‰ä¸ªé‡å¤è·¯ç”±çš„é—®é¢˜ï¼Œéœ€è¦æ”¾åœ¨posts/:id çš„å‰é¢ Route.get('/posts/create', 'PostController.create') è¯·æ±‚æŒ‡å®šæ•°æ®ï¼Œå¦‚æœä¸å¸Œæœ›å¼ºåˆ¶ä¼ å…¥","tags":["adonis"],"title":"Adonis â€”â€” è·¯ç”±","uri":"https://leeggco.com/2020/04/adonis-02/","year":"2020"},{"content":"å®‰è£…å‘½ä»¤ï¼ˆå…¨å±€ï¼‰\nnpm install @adonisjs/cli --global  æˆ–\nnpm i -g adonis-cli  å®‰è£…æ•°æ®åº“ï¼ˆsqlite3ï¼‰\nnpm install sqlite3  åˆ›å»ºé¡¹ç›®\nadonis new demo-adonis  è¿è¡Œé¡¹ç›®\nnpm run serve:dev  åˆ›å»ºæ§åˆ¶å™¨\nadonis make:controller Posts  åˆ›å»ºè§†å›¾\nadonis make:view posts  åˆ›å»ºæ•°æ®è¡¨\nadonis make:migration Post  ç”Ÿæˆæ•°æ®è¡¨\nadonis migration:run  ","id":3,"section":"posts","summary":"å®‰è£…å‘½ä»¤ï¼ˆå…¨å±€ï¼‰ npm install @adonisjs/cli --global æˆ– npm i -g adonis-cli å®‰è£…æ•°æ®åº“ï¼ˆsqlite3ï¼‰ npm install sqlite3 åˆ›å»ºé¡¹ç›® adonis new demo-adonis è¿è¡Œé¡¹ç›® npm run serve:dev åˆ›å»ºæ§åˆ¶å™¨ adonis make:controller Posts åˆ›å»ºè§†å›¾ adonis make:view posts åˆ›å»ºæ•°æ®è¡¨ adonis make:migration","tags":["adonis"],"title":"adonis â€”â€” å¸¸ç”¨å‘½ä»¤","uri":"https://leeggco.com/2020/04/adonis-01/","year":"2020"},{"content":"hello, Hugo ","id":4,"section":"posts","summary":"hello, Hugo ","tags":["test"],"title":"hello, world","uri":"https://leeggco.com/2020/04/hello-world/","year":"2020"}],"tags":[{"title":"adonis","uri":"https://leeggco.com/tags/adonis/"},{"title":"index","uri":"https://leeggco.com/tags/index/"},{"title":"test","uri":"https://leeggco.com/tags/test/"}]}