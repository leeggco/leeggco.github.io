{"categories":[{"title":"cat","uri":"https://leeggco.com/categories/cat/"},{"title":"Centos","uri":"https://leeggco.com/categories/centos/"},{"title":"jQuery","uri":"https://leeggco.com/categories/jquery/"},{"title":"Nginx","uri":"https://leeggco.com/categories/nginx/"},{"title":"Node.js","uri":"https://leeggco.com/categories/node.js/"},{"title":"Vue.js","uri":"https://leeggco.com/categories/vue.js/"},{"title":"æ•°æ®å¯è§†åŒ–","uri":"https://leeggco.com/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"posts":[{"content":"ä¸€ã€å‰è¨€ G6-Editor æ˜¯ AntV å®˜æ–¹æä¾›çš„ã€ä¸“æ³¨äºå›¾å¯è§†åŒ–ç¼–è¾‘å™¨çš„ç±»åº“ï¼Œä¹Ÿæ˜¯å¸‚é¢ä¸Šå®Œæˆåº¦è¾ƒé«˜çš„å›¾å¯è§†åŒ–ç¼–è¾‘å™¨ã€‚ç„¶è€Œä»¤äººè¯Ÿç—…çš„æ˜¯å…¶æ–‡æ¡£å¯¹æ–°æ‰‹æåº¦ä¸å‹å¥½ï¼Œæˆ‘ä¸€åº¦æ€€ç–‘æ­¤æ–‡æ¡£åªæœ‰ä»–ä»¬è‡ªå·±å¼€å‘äººå‘˜æ‰èƒ½çœ‹å¾—æ‡‚ï¼Œå›é¦–å­¦ä¹ çš„è¿‡ç¨‹é‡Œå¦‚åŒæ˜¯æ¼†é»‘ä¸­å‰è¡Œï¼Œè‹¦ä¸å ªè¨€ã€‚ä¸ºäº†è®©åæ¥è€…ä¸é‡è¹ˆè¦†è¾™ï¼Œæˆ‘æ„¿åŒ–ä¸ºè¤ç«ç”¨å¾®å¼±çš„å…‰ç‚¹æŒ‡å¼•å‰è¡Œçš„é“è·¯ã€‚\nç›®æ ‡\n1ã€ç»„ä»¶ä½¿ç”¨\n2ã€è‡ªå®šä¹‰èŠ‚ç‚¹\n3ã€æ•°æ®å…³è”\n4ã€è‡ªå®šä¹‰å‘½ä»¤\nå¼€å‘ç¯å¢ƒ\nè¿™é‡Œä½¿ç”¨çš„æ¡†æ¶æ˜¯Vueï¼ŒUIä½¿ç”¨Element-uiï¼Œä»¥åŠä¸»è§’G6-Editorï¼Œå»ºè®®cloneæ–‡ç« æœ€ä¸‹é¢çš„githubé¡¹ç›®ç»“åˆé˜…è¯»ã€‚\näºŒã€è¿›å…¥å®æˆ˜ 2.1Editor æ˜¯æ•´ä¸ªç¼–è¾‘å™¨çš„ä¸»æ§ç±»ï¼Œå…¶ä¸»è¦èŒè´£æ˜¯å°†ç¼–è¾‘å™¨çš„å„ä¸ªç»„ä»¶ååŒèµ·æ¥ã€‚\nç”¨æ³•ï¼š\nimport G6Editor from '@antv/g6-editor' const editor = new G6Editor() // å…ƒç´ é¢æ¿æ  Itempannel const itempannel = new G6Editor.Itempannel({ container: 'itempannel', }) // å·¥å…·æ  Toolbar const toolbar = new G6Editor. Toolbar({ container: 'toolbar', }) // è¯¦ç»†é¢æ¿ Detailpannel const detailpannel = new G6Editor.Detailpannel ({ container: 'detailpannel' }) // ç¼©ç•¥å›¾ Minimap const minimap = new G6Editor.Minimap({ container: 'minimap', height: 226, width: 226 }) // ç»„ä»¶æŒ‚è½½åˆ°Editor editor.add(page) editor.add(itempannel) editor.add(toolbar) editor.add(detailpannel) editor.add(minimap)  Tipsï¼šå…ˆå®ä¾‹åŒ–ç»„ä»¶ï¼Œç„¶åå†æŒ‚è½½åˆ°Editor\nâ–³ ä»¥ä¸Šã€‚ Toolbar å·¥å…·æ ç±»ï¼Œè´Ÿè´£å·¥å…·æ æŒ‰é’®çš„å‘½ä»¤ç»‘å®šã€å¯ç”¨ç¦ç”¨çŠ¶æ€æ§åˆ¶ã€‚\nG6-Editorå†…ç½®äº†å¤šç§å‘½ä»¤ï¼Œäº¦å¯ä»¥è‡ªå®šä¹‰å‘½ä»¤ã€‚\nç”¨æ³•ï¼š\n\u0026lt;!-- Toolbar --\u0026gt; \u0026lt;div id=\u0026quot;toolbar\u0026quot; class=\u0026quot;toolbar\u0026quot;\u0026gt; \u0026lt;i data-command=\u0026quot;delete\u0026quot; class=\u0026quot;command el-icon el-icon-delete\u0026quot; title=\u0026quot;åˆ é™¤\u0026quot;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;i data-command=\u0026quot;zoomIn\u0026quot; class=\u0026quot;command el-icon el-icon-zoom-in\u0026quot; title=\u0026quot;æ”¾å¤§\u0026quot;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;i data-command=\u0026quot;save\u0026quot; class=\u0026quot;command el-icon el-icon-upload\u0026quot; title=\u0026quot;ä¿å­˜\u0026quot;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/div\u0026gt;  // Command const Command = G6Editor.Command // è‡ªå®šä¹‰Saveå‘½ä»¤ Command.registerCommand('save', { // å‘½ä»¤æ˜¯å¦è¿›å…¥é˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯ true queue: false, // å‘½ä»¤æ˜¯å¦å¯ç”¨ enable(eidtor) { return true }, // æ­£å‘å‘½ä»¤ execute(eidtor) { // è·å–å½“å‰page const page = this.editor.getCurrentPage() const data = page.save() console.log(data) }, // å¿«æ·é”®ï¼šCtrl+shirt+s shortcutCodes : [['ctrlKey', 'shiftKey', 's']] })  Tipsï¼šå·¥å…·æ çš„æ§ä»¶æ ‡ç­¾å¿…é¡»è¦æœ‰ data-command=\u0026quot;delete\u0026quot;å’Œ class=\u0026quot;command\u0026quot;å¦åˆ™æ— æ•ˆã€‚å…¶ä¸­deleteä¸ºå†…ç½®æˆ–è‡ªå®šä¹‰å‘½ä»¤åç§°ã€‚\nâ–³ ä»¥ä¸Šã€‚\nItempannel å…ƒç´ é¢æ¿æ ï¼Œè´Ÿè´£å¤„ç†å…ƒç´ æ·»åŠ çš„é€šè®¯ã€‚\nç”¨æ³•ï¼š\n\u0026lt;!-- å…ƒç´ é¢æ¿æ  --\u0026gt; \u0026lt;div id=\u0026quot;itempannel\u0026quot; class=\u0026quot;ph left\u0026quot;\u0026gt; \u0026lt;div class=\u0026quot;getItem\u0026quot; data-type=\u0026quot;node\u0026quot; data-shape=\u0026quot;flow-rect\u0026quot; data-size=\u0026quot;120*48\u0026quot; data-label=\u0026quot;å¸¸è§„èŠ‚ç‚¹\u0026quot; data-color=\u0026quot;#1890FF\u0026quot;\u0026gt; \u0026lt;img draggable=\u0026quot;false\u0026quot; src=\u0026quot;https://gw.alipayobjects.com/zos/rmsportal/wHcJakkCXDrUUlNkNzSy.svg\u0026quot; alt=\u0026quot;\u0026quot; srcset=\u0026quot;\u0026quot;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026quot;getItem\u0026quot; data-type=\u0026quot;node\u0026quot; data-shape=\u0026quot;flow-circle\u0026quot; data-size=\u0026quot;72*72\u0026quot; data-label=\u0026quot;èµ·æ­¢èŠ‚ç‚¹\u0026quot; data-color=\u0026quot;#FA8C16\u0026quot;\u0026gt; \u0026lt;img draggable=\u0026quot;false\u0026quot; src=\u0026quot;https://gw.alipayobjects.com/zos/rmsportal/ZnPxbVjKYADMYxkTQXRi.svg\u0026quot; alt=\u0026quot;\u0026quot; srcset=\u0026quot;\u0026quot;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026quot;getItem\u0026quot; data-type=\u0026quot;node\u0026quot; data-shape=\u0026quot;flow-rhombus\u0026quot; data-size=\u0026quot;80*72\u0026quot; data-label=\u0026quot;åˆ†å‰èŠ‚ç‚¹\u0026quot; data-color=\u0026quot;#13C2C2\u0026quot;\u0026gt; \u0026lt;img draggable=\u0026quot;false\u0026quot; src=\u0026quot;https://gw.alipayobjects.com/zos/rmsportal/SnWIktArriZRWdGCnGfK.svg\u0026quot; alt=\u0026quot;\u0026quot; srcset=\u0026quot;\u0026quot;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026quot;getItem\u0026quot; data-type=\u0026quot;node\u0026quot; data-shape=\u0026quot;flow-capsule\u0026quot; data-size=\u0026quot;80*48\u0026quot; data-label=\u0026quot;æ¨¡å‹èŠ‚ç‚¹\u0026quot; data-color=\u0026quot;#722ED1\u0026quot;\u0026gt; \u0026lt;img draggable=\u0026quot;false\u0026quot; src=\u0026quot;https://gw.alipayobjects.com/zos/rmsportal/rQMUhHHSqwYsPwjXxcfP.svg\u0026quot; alt=\u0026quot;\u0026quot; srcset=\u0026quot;\u0026quot;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- æ³¨æ„ï¼æˆ‘è·Ÿåˆ«äººä¸ä¸€æ ·ï¼Œæˆ‘æ˜¯è‡ªå®šä¹‰çš„èŠ‚ç‚¹ --\u0026gt; \u0026lt;div class=\u0026quot;getItem\u0026quot; data-type=\u0026quot;node\u0026quot; data-shape=\u0026quot;customNode\u0026quot; data-size=\u0026quot;80*48\u0026quot; data-label=\u0026quot;æˆ‘æ˜¯è‡ªå®šä¹‰çš„\u0026quot; data-color=\u0026quot;#722ED1\u0026quot;\u0026gt; \u0026lt;img draggable=\u0026quot;false\u0026quot; src=\u0026quot;https://user-gold-cdn.xitu.io/2019/3/15/169809645b016da6?w=114\u0026amp;h=128\u0026amp;f=png\u0026amp;s=1893\u0026quot; alt=\u0026quot;\u0026quot; srcset=\u0026quot;\u0026quot;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;  è‡ªå®šä¹‰èŠ‚ç‚¹\n// æ³¨æ„ï¼è¿™é‡Œä¸èƒ½ä½¿ç”¨new G6Editor.Flow()çš„å½¢å¼ï¼Œæ˜¯æ— æ•ˆçš„ã€‚ // åº”ä½¿ç”¨ const Flow = G6Editor.Flow const Flow = G6Editor.Flow Flow.registerNode('customNode', { draw(item){ const group = item.getGraphicGroup() const model = item.getModel() group.addShape('text', { attrs: { x: 0, y: 0, fill: '#333', text: model.label } }) group.addShape('text', { attrs: { x: 0, y: 0, fill: '#333', text: ' ('+model.x+', '+model.y+') \\n åŸç‚¹æ˜¯ç»„çš„å›¾åæ ‡', textBaseline: 'top' } }) return group.addShape('rect', { attrs: { x: 0, y: 0, width: 100, height: 100, stroke: 'red' } }) } })  å«class=\u0026quot;getItem\u0026quot;çš„å…ƒç´ ä¼šè¢«å½“åšèŠ‚ç‚¹ï¼Œå¯ä»¥å¾€ç¼–è¾‘å™¨æ‹–åŠ¨ã€‚\ndata-* æ‰€æœ‰ * éƒ½ä¼šè¢«è®¾ç½®è¿›æ·»åŠ å›¾é¡¹çš„æ•°æ®æ¨¡å‹ã€‚\ndata-type å…ƒç´ ç±»å‹\ndata-shape å…ƒç´ å›¾å½¢\ndata-size å…ƒç´ å¤§å°\ndata-label å…ƒç´ æ ‡ç­¾\ndata-color å…ƒç´ é¢œè‰²\ndraggable ç¦æ­¢ã€å¯åŠ¨æ‹–æ‹½é»˜è®¤è¡Œä¸º\nâ–³ ä»¥ä¸Šã€‚\nDetailpannel å±æ€§æ ç±»ï¼Œè´Ÿè´£å±æ€§æ æ˜¾ç¤ºéšè—çš„æ§åˆ¶ã€‚é€šä¿—ç‚¹è¯´ï¼Œå°±æ˜¯ä¸åŒçš„æ“ä½œå¯ä»¥æ˜¾ç¤ºä¸åŒçš„é¢æ¿ã€‚\nç”¨æ³•ï¼š\n\u0026lt;!-- è¯¦ç»†é¢æ¿ --\u0026gt; \u0026lt;div id=\u0026quot;detailpannel\u0026quot; class=\u0026quot;detailpannel\u0026quot;\u0026gt; \u0026lt;div data-status=\u0026quot;node-selected\u0026quot; class=\u0026quot;panel\u0026quot; id=\u0026quot;node_detailpanel\u0026quot;\u0026gt; \u0026lt;div class=\u0026quot;panel-title\u0026quot;\u0026gt;å±æ€§è¯¦æƒ…\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026quot;block-container\u0026quot;\u0026gt; \u0026lt;el-input v-model=\u0026quot;nodeLabel\u0026quot; size=\u0026quot;mini\u0026quot; @change=\u0026quot;changeNodeLabel\u0026quot; placeholder=\u0026quot;è¯·è¾“å…¥å†…å®¹\u0026quot;\u0026gt;\u0026lt;/el-input\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;   data-status æ ‡è¯†ä¸åŒé¡µé¢çŠ¶æ€ä¸‹ï¼Œå„ä¸ªå³é”®èœå•å®¹å™¨çš„æ˜¾ç¤ºéšè—ã€‚\n\u0026lt;div data-status=\u0026quot;node-selected\u0026quot;\u0026gt;èŠ‚ç‚¹å±æ€§æ \u0026lt;/div\u0026gt; \u0026lt;div data-status=\u0026quot;edge-selected\u0026quot;\u0026gt;è¾¹å±æ€§æ \u0026lt;/div\u0026gt; \u0026lt;div data-status=\u0026quot;group-selected\u0026quot;\u0026gt;ç¾¤ç»„å±æ€§æ \u0026lt;/div\u0026gt; \u0026lt;div data-status=\u0026quot;canvas-selected\u0026quot;\u0026gt;ç”»å¸ƒå±æ€§æ \u0026lt;/div\u0026gt; \u0026lt;div data-status=\u0026quot;multi-selected\u0026quot;\u0026gt;å¤šé€‰æ—¶å±æ€§æ \u0026lt;/div\u0026gt;  â–³ ä»¥ä¸Šã€‚\nMinimap ç¼©ç•¥å›¾ç±»ï¼Œè´Ÿè´£ç»˜åˆ¶ç¼©ç•¥å›¾åŠåŒå›¾è”åŠ¨ã€‚\n\u0026lt;!-- ç¼©ç•¥å›¾ --\u0026gt; \u0026lt;div class=\u0026quot;minimap\u0026quot;\u0026gt; \u0026lt;div class=\u0026quot;panel-title\u0026quot;\u0026gt;ç¼©ç•¥å›¾\u0026lt;/div\u0026gt; \u0026lt;div id=\u0026quot;minimap\u0026quot;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt;  è¿™ä¸ªå€’æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹çš„æ–‡æ¡£å’Œå®ä¾‹ã€‚\nâ–³ ä»¥ä¸Šã€‚\né«˜èƒ½é¢„è­¦ï¼ æœ€åä¸€ä¸ªä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ä¸ªï¼æ•°æ®å…³è”ï¼ï¼ï¼ä¸å’Œä¸šåŠ¡æ•°æ®å…³è”çš„ä¸€åˆ‡éƒ½æ˜¯è€æµæ°“ã€‚\nè¿˜è®°å¾—Detailpannelå±æ€§æ ç±»å—ï¼Ÿ é‡Œé¢æœ‰ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œäº‹ä»¶ç»‘å®šäº†changeNodeLabelï¼Œç”¨æ¥ä¿®æ”¹èŠ‚ç‚¹çš„labelå±æ€§ã€‚\n// methods changeNodeLabel(value) { const editor = this.editor // æ‰§è¡Œå‘½ä»¤ editor.executeCommand(() =\u0026gt; { const page = editor.getCurrentPage() const selectedItems = page.getSelected() selectedItems.forEach(item =\u0026gt; { // æ›´æ–°å±æ€§ page.update(item.id, { label: value }) }) }) }  å¦å¤–é€‰æ‹©èŠ‚ç‚¹ï¼Œä¹Ÿéœ€è¦å°†labelçš„å€¼è®¾ç½®åˆ°è¾“å…¥æ¡†é‡Œã€‚\n// è·å–å½“å‰page const currentPage = editor.getCurrentPage() // ç›‘å¬é€‰æ‹©å˜åŒ– currentPage.on('afteritemselected', ev =\u0026gt; { // é€‰æ‹©å¯¹è±¡ä¸ºNodeèŠ‚ç‚¹ if (ev.item.isNode) { // è·å–å±æ€§ const nm = ev.item.getModel() _this.nodeLabel = nm.label } // é€‰æ‹©å¯¹è±¡ä¸ºEdgeèŠ‚ç‚¹ if (ev.item.isEdge) { // è·å–å±æ€§ const nm = ev.item.getModel() _this.nodeLabel = nm.label } })  â–³ ä»¥ä¸Šã€‚\nåè¯ ç”±äºä»£ç æ®µéƒ½æ˜¯æ¯”è¾ƒé›¶æ•£ï¼Œæœ€å¥½ç»“åˆä¸‹é¢æä¾›åœ¨githubä¸Šçš„é¡¹ç›®é£Ÿç”¨ï¼Œå¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·éšæ‰‹ä¸€ä¸ªèµæˆ–è€…æ”¶è—ã€‚å¦å¤–æ–‡ç« å†™å¾—ä»“ä¿ƒæœ‰å¾ˆå¤šä¸è¶³çš„åœ°æ–¹ï¼Œå¸Œæœ›å¤§å®¶è½»æ‹ï¼Œå“ˆå“ˆå“ˆ~\ngithubä»“åº“ ï¼šhttps://github.com/leeggco/g6-editor-demo\nè¿™ç¯‡æ–‡ç« åªæä¾›äº†åŸºç¡€çš„çŸ¥è¯†ï¼Œåç»­çš„è¿›é˜¶è¿˜æ˜¯éœ€è¦ç»“åˆG6ã€G6-editorçš„æ–‡æ¡£ã€‚\n","id":0,"section":"posts","summary":"ä¸€ã€å‰è¨€ G6-Editor æ˜¯ AntV å®˜æ–¹æä¾›çš„ã€ä¸“æ³¨äºå›¾å¯è§†åŒ–ç¼–è¾‘å™¨çš„ç±»åº“ï¼Œä¹Ÿæ˜¯å¸‚é¢ä¸Šå®Œæˆåº¦è¾ƒé«˜çš„å›¾å¯è§†åŒ–ç¼–è¾‘å™¨ã€‚ç„¶è€Œä»¤äººè¯Ÿç—…çš„æ˜¯å…¶æ–‡æ¡£å¯¹æ–°æ‰‹æåº¦ä¸å‹å¥½ï¼Œæˆ‘ä¸€åº¦æ€€","tags":["G6"],"title":"G6 Editor Tutorial","uri":"https://leeggco.com/2020/04/g6-editor-tutorial/","year":"2020"},{"content":"ç”±äºå¼€å‘å¾®ä¿¡å°ç¨‹åºhttpsçš„éœ€æ±‚ï¼ŒæŠŠé˜¿é‡Œäº‘ä¸Šçš„Nodejsé…ç½®äº†httpsã€‚ 1ã€é¦–å…ˆåœ¨é˜¿é‡Œäº‘åŸŸåç®¡ç†é‡Œé¢ç”³è¯·Symantec å…è´¹ç‰ˆ SSLï¼Œå¹¶éªŒè¯ã€‚ 2ã€ä¸‹è½½å¯†é’¥æ–‡ä»¶ï¼Œæ”¾åœ¨ç¨‹åºçš„ç›®å½•é‡Œï¼Œè¿™é‡Œæˆ‘åœ¨æ ¹ç›®å½•åˆ›å»ºhttpsæ¥å­˜æ”¾ã€‚ 3ã€åœ¨nodeç¨‹åºé‡Œé…ç½®httpsï¼Œå› ä¸ºä½¿ç”¨äº†expressï¼Œæ‰€ä»¥æ˜¯./bin/wwwæ–‡ä»¶ã€‚è¿™é‡Œæœ‰ä¸ªé—®é¢˜æ˜¯httpsä¸èƒ½ç›‘å¬443ç«¯å£ï¼Œå› ä¸ºnginxéœ€è¦ä½¿ç”¨è¿™ä¸ªç«¯å£ï¼ŒæŠŠhttpç«¯å£è®¾ç½®ä¸º8012ï¼Œhttpsç«¯å£è®¾ç½®ä¸º9012ï¼Œä»£ç å¦‚ä¸‹ï¼š\nvar app = require('../app'); var debug = require('debug')('books:server'); var http = require('http'); var https = require('https'); var fs = require('fs'); var options = { key: fs.readFileSync('./https/domain.key'), cert: fs.readFileSync('./https/domain.pem'), requestCert: true, rejectUnauthorized: true } /** * Get port from environment and store in Express. */ var port = normalizePort(process.env.PORT || '8012'); app.set('port', 8012); console.log('listen : ' + port); /** * Create HTTPs server. */ //var server = http.createServer(app); var server = http.createServer(app); https.createServer(options, app).listen(9012);  4ã€é…ç½®nginxï¼Œå¦‚ä¸‹ï¼š\nserver { listen 80; server_name domain.com www.domain.com; rewrite ^(.*)$ https://$host$1 permanent; } server { listen 443 ssl; server_name domain.com www.domain.com; ssl on; ssl_certificate /etc/nginx/cert/domain.pem; ssl_certificate_key /etc/nginx/cert/domain.key; location / { proxy_pass http://localhost:8012; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection 'upgrade'; proxy_set_header Host $host; proxy_cache_bypass $http_upgrade; } location /public { root /usr/york/leeggco; } }  è¿™é‡Œè¦æ³¨æ„çš„åœ°æ–¹æ˜¯server_name éœ€è¦åŒæ—¶è®¾ç½®domain.comå’Œwww.domain.comè¿™æ ·è®¿é—®domain.comçš„æ—¶å€™ä¹Ÿä¼šè‡ªåŠ¨è·³è½¬åˆ°httpsã€‚ é…ç½®å®Œåé‡å¯nginxå®Œæˆã€‚\n","id":1,"section":"posts","summary":"ç”±äºå¼€å‘å¾®ä¿¡å°ç¨‹åºhttpsçš„éœ€æ±‚ï¼ŒæŠŠé˜¿é‡Œäº‘ä¸Šçš„Nodejsé…ç½®äº†httpsã€‚ 1ã€é¦–å…ˆåœ¨é˜¿é‡Œäº‘åŸŸåç®¡ç†é‡Œé¢ç”³è¯·Symantec å…è´¹ç‰ˆ SSLï¼Œ","tags":["others"],"title":"centos 6x nodejs express nginx https é˜¿é‡Œäº‘é…ç½®","uri":"https://leeggco.com/2020/04/centos-ngxin-aliyun-config/","year":"2020"},{"content":"ä¿®æ”¹é…ç½®åé‡æ–°åŠ è½½ç”Ÿæ•ˆ\nnginx -s reload  é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶\nnginx -s reopen  æµ‹è¯•nginxé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®\nnginx -t -c /path/to/nginx.conf  å…³é—­nginx\nnginx -s stop //å¿«é€Ÿåœæ­¢nginx quit //å®Œæ•´æœ‰åºçš„åœæ­¢nginx  å…¶ä»–çš„åœæ­¢nginx æ–¹å¼\nps -ef | grep nginx kill -QUIT ä¸»è¿›ç¨‹å· //ä»å®¹åœæ­¢Nginx kill -TERM ä¸»è¿›ç¨‹å· //å¿«é€Ÿåœæ­¢Nginx pkill -9 nginx //å¼ºåˆ¶åœæ­¢Nginx  å¯åŠ¨nginx\nnginx -c /path/to/nginx.conf  å¹³æ»‘é‡å¯nginx\nkill -HUP ä¸»è¿›ç¨‹å·  ","id":2,"section":"posts","summary":"ä¿®æ”¹é…ç½®åé‡æ–°åŠ è½½ç”Ÿæ•ˆ nginx -s reload é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶ nginx -s reopen æµ‹è¯•nginxé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡® nginx -t -c /path/to/nginx.conf å…³é—­nginx nginx -s stop //å¿«é€Ÿåœæ­¢nginx quit //å®Œæ•´","tags":["others"],"title":"Nginx åŸºæœ¬å‘½ä»¤","uri":"https://leeggco.com/2020/04/nginx-base-command/","year":"2020"},{"content":"æœ€è¿‘é¡¹ç›®ä½¿ç”¨äº†JQuery-ui çš„æ‹–æ‹½ç»„ä»¶ï¼ŒWebpackæ‰“åŒ…å‡ºç° jquery is not defined é”™è¯¯åŠuiç»„ä»¶æ— æ³•ä½¿ç”¨ã€‚ æœ€åçš„è§£å†³æ–¹å¼æ˜¯ï¼Œä½¿ç”¨npm åŒ…å¼•å…¥jQueryå’Œexpose-loaderï¼Œåœ¨webpack.base.conf.js ä¸­çš„aliaså¼•å…¥jQueryï¼Œå†æ·»åŠ jQueryæ’ä»¶ï¼Œå¹¶åœ¨é¡µé¢å¼•å…¥ã€‚\nnpm install jquery expose-loader --save  å…·ä½“ä»£ç ï¼š\n// webpack.base.conf.js resolve: { extensions: ['.js', '.vue', '.json'], alias: { 'vue // webpack.prod.conf.js plugins: [ // http://vuejs.github.io/vue-loader/en/workflow/production.html new webpack.DefinePlugin({ // 'process.env': env, $: 'jquery', jQuery: 'jquery', jquery: 'jquery', 'window.jQuery': 'jquery' }) // ... å…¶ä»–æ’ä»¶ ] // main.js import $ from 'expose-loader?$!jquery' import '../static/jquery-ui.min.js' window.$ = $ // å¢åŠ ä¸Šé¢ä»£ç åˆ°main.jsï¼Œä¾¿å¯ä»¥åœ¨å…¨å±€èŒƒå›´å†…ä½¿ç”¨$åŠuiæ’ä»¶ã€‚  PS: æœ‰å¯èƒ½é¡µé¢è¿˜ä¼šæŠ¥é”™ï¼Œè¯•ç€åœ¨é¡µé¢å•ç‹¬å¼•å…¥JQuery\nimport $ from 'expose-loader?$!jquery'  æˆ–è€…æ˜¯è¿™ä¸ªæŠ¥é”™ï¼ŒåŒæ ·é€‚ç”¨ã€‚\n This dependency was not found: * expose-loader?$!jquery in ./src/main.js, ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script\u0026amp;index=0\u0026amp;bustCache!./src/components/boardTopu/index.vue and 1 other To install it, you can run: npm install --save expose-loader?$!jquery  ","id":3,"section":"posts","summary":"æœ€è¿‘é¡¹ç›®ä½¿ç”¨äº†JQuery-ui çš„æ‹–æ‹½ç»„ä»¶ï¼ŒWebpackæ‰“åŒ…å‡ºç° jquery is not defined é”™è¯¯åŠuiç»„ä»¶æ— æ³•ä½¿ç”¨ã€‚ æœ€åçš„è§£å†³æ–¹å¼æ˜¯ï¼Œä½¿ç”¨npm åŒ…å¼•å…¥jQue","tags":["others"],"title":"Vue.js å¼•å…¥JQuery åŠ JQuery-uiç»„ä»¶çš„ä½¿ç”¨","uri":"https://leeggco.com/2020/04/vue-import-jquery/","year":"2020"},{"content":"MariaDB å®‰è£…\nsudo yum install MariaDB-server MariaDB-client  å¯åŠ¨\nservice mysql start  è®¾ç½®rootç”¨æˆ·å¯†ç \nmysqladmin -u root password \u0026quot;mypassword\u0026quot;  ç™»å½•\nmysql -uroot -p  Adonis adonisæ”¯æŒ PostgreSQLï¼ŒSQLiteï¼ŒMySQLï¼ŒMariaDBï¼ŒOracleï¼ŒMSSQL æ•°æ®åº“ï¼Œé»˜è®¤ä¸ºSQLiteã€‚åœ¨ config/database ä¸­ä¿®æ”¹é…ç½®ã€‚\né…ç½®æ•°æ®åº“\nconnection: Env.get('DB_CONNECTION', 'mysql'),  åˆ›å»ºæ•°æ®åº“æ¨¡å‹ï¼ˆModelï¼‰\nadonis make:model posts  åˆ›å»ºè¿ç§»ï¼ˆmigrationï¼‰\næ•°æ®åº“è¿ç§»æ˜¯ä¸€ç§ä»ä»£ç åˆ›å»ºï¼Œæ›´æ”¹å’Œåˆ é™¤æ•°æ®åº“è¡¨è€Œä¸æ˜¯ç¼–å†™SQLæŸ¥è¯¢çš„è¿‡ç¨‹ã€‚\nadonis make:migration posts  æŸ¥çœ‹çŠ¶æ€\nadonis migration:status  æ‰§è¡Œè¿ç§»ï¼Œåˆ›å»ºè¡¨æ ¼\nadonis migration:run  PM2 pm2 start server.js  ","id":4,"section":"posts","summary":"MariaDB å®‰è£… sudo yum install MariaDB-server MariaDB-client å¯åŠ¨ service mysql start è®¾ç½®rootç”¨æˆ·å¯†ç  mysqladmin -u root password \u0026quot;mypassword\u0026quot; ç™»å½• mysql -uroot -p Adonis adonisæ”¯æŒ PostgreSQLï¼ŒSQLiteï¼ŒMySQLï¼ŒMari","tags":["adonis"],"title":"Adonis â€”â€” MariaDB æ•°æ®åº“åŸºæœ¬æ“ä½œ","uri":"https://leeggco.com/2020/04/adonis-mariadb-pm2/","year":"2020"},{"content":"æŸ¥è¯¢å‚æ•°query \u0026amp; params\nRoute.get('/posts', ({ request }) =\u0026gt; { return request.get() })  ä½¿ç”¨post è¯·æ±‚\nRoute.post('/posts', ({ request }) =\u0026gt; request.post())  åŒæ—¶å¾—åˆ°è¯·æ±‚åœ°å€çš„å‚æ•°ï¼Œä½¿ç”¨request.all()\nRoute.post('/posts', ({ request }) =\u0026gt; request.all())  è·å–æŒ‡å®šå‚æ•°ï¼Œä½¿ç”¨request.only()\nRoute.post('/posts', ({ request }) =\u0026gt; request.only(['title', 'content']))  æ’é™¤æ•°æ®ï¼Œä½¿ç”¨request.except()\nRoute.post('/posts', ({ request }) =\u0026gt; request.except(['title', 'content']))  è·å–æŒ‡å®šå‚æ•°ï¼Œä½¿ç”¨request.input()\nRoute.post('/posts', ({ request }) =\u0026gt; request.input('status', 'é»˜è®¤'))  Form è¡¨å•æ•°æ®\n{ \u0026quot;title\u0026quot;: [ \u0026quot;Lemon\u0026quot;, \u0026quot;Bnanna\u0026quot; ], \u0026quot;content\u0026quot;: [ \u0026quot;ğŸ‹\u0026quot;, \u0026quot;ğŸŒ\u0026quot; ] } Route.post('/posts', ({ request }) =\u0026gt; request.collet(['title', 'content']))  è‡ªåŠ¨è½¬æ¢ï¼Œä½¿ç”¨request.collect\nRoute.post('/posts', ({ request }) =\u0026gt; request.collect(['title', 'content']))  è·å–æ‰€æœ‰å¤´éƒ¨ä¿¡æ¯\nRoute.get('/posts', ({ request }) =\u0026gt; request.headers())  è·å–æŒ‡å®šä¿¡æ¯\nRoute.get('/posts', ({ request }) =\u0026gt; request.header('user-agent'))  è®¾ç½®å“åº”å¤´éƒ¨ä¿¡æ¯\nRoute.get('/posts', ({ request, response }) =\u0026gt; { // response.header('Content-type', 'text/plain') // ç®€å†™ response.type('text') return '\u0026lt;h1\u0026gt;List of posts.\u0026lt;/h1\u0026gt;' })  Cookies è®¾ç½®ä¸è·å–\nRoute.get('/posts', ({ request, response }) =\u0026gt; { // è®¾ç½®cookie response.cookie('theme', 'dark') // è·å–cookie // request.cookie('theme', 'é»˜è®¤') // åˆ é™¤cookie response.clearCookie('theme') return request.cookies() })  Response å“åº”\nRoute.get('/posts', ({ response }) =\u0026gt; { // response.send('List of response') // return 'List of return.' // ä¼šè‡ªåŠ¨å°†å¯¹è±¡å’Œç»„æ•°è½¬æ¢æˆJSON return { 'title': 'hello' } })  å¼‚æ­¥å“åº”\nconst delay = (data, time) =\u0026gt; { return new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { resolve(data) }, time); }) } Route.get('/posts', async ({ response }) =\u0026gt; { const data = await delay('List of Posts.', 3000) return data })  é‡å®šå‘ Redirects\nRoute.get('/list-of-posts', ({ response }) =\u0026gt; { // response.redirect('/posts', true, 301) response.route('list-of-posts') }) Route.get('/list-of-food-posts', ({ response }) =\u0026gt; { // response.redirect('/posts', true, 301) response.route('list-of-posts', { category: 'food' }) }) Route.get('/posts/:category?', ({ params }) =\u0026gt; { return `List of ${ params.category || 'default' } Posts.` }).as('list-of-posts')  å®Œæ•´æºç \n","id":5,"section":"posts","summary":"æŸ¥è¯¢å‚æ•°query \u0026amp; params Route.get('/posts', ({ request }) =\u0026gt; { return request.get() }) ä½¿ç”¨post è¯·æ±‚ Route.post('/posts', ({ request }) =\u0026gt; request.post()) åŒæ—¶å¾—åˆ°è¯·æ±‚åœ°å€çš„å‚æ•°ï¼Œä½¿ç”¨request.all() Route.post('/posts', ({ request }) =\u0026gt; request.all()) è·å–æŒ‡","tags":["adonis"],"title":"Adonis â€”â€” è¯·æ±‚","uri":"https://leeggco.com/2020/04/adonis-request/","year":"2020"},{"content":"get è¯·æ±‚\nRoute.get('/posts', () =\u0026gt; 'Get has been created.')  post è¯·æ±‚\nRoute.post('/posts', () =\u0026gt; 'Post has been created.')  createÂ åˆ›å»ºï¼Œè¿™é‡Œæœ‰ä¸ªé‡å¤è·¯ç”±çš„é—®é¢˜ï¼Œéœ€è¦æ”¾åœ¨posts/:id çš„å‰é¢\nRoute.get('/posts/create', 'PostController.create')  è¯·æ±‚æŒ‡å®šæ•°æ®ï¼Œå¦‚æœä¸å¸Œæœ›å¼ºåˆ¶ä¼ å…¥id åˆ™å¯ä»¥ä½¿ç”¨ /posts/:id?\nRoute.get('/posts/:id',Â ({Â paramsÂ })Â =\u0026gt;Â { return`You'reÂ watchingÂ postÂ ${params.id}` })  patchÂ æ›´æ–°\nRoute.patch('/posts/:id', ({ params }) =\u0026gt; { return`Post ${params.id} has been updated.` })  deleteÂ åˆ é™¤\nRoute.delete('/posts/:id', ({ params }) =\u0026gt; { return`Post ${params.id} has been removed.` })  editÂ ç¼–è¾‘\nRoute.get('/posts/:id/edit', 'PostController.edit')  èµ„æºè·¯ç”±\n// å› ä¸ºä»¥ä¸Šè¯·æ±‚æ–¹å¼éå¸¸å¸¸è§ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨èµ„æºè·¯ç”±æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœ Route .resource('posts', 'PostController') // æ’é™¤è¯·æ±‚ç±»å‹ // .except(['index']) // .only æŒ‡å®šå¯ç”¨çš„è¯·æ±‚ // .only(['index', 'show']) // .apiOnly()  è·¯ç”±å‘½å\nRoute .get('/user---name', () =\u0026gt; 'List of users.') .as('users.index')  è·¯ç”±æ ¼å¼\nRoute.get('/users', ({ request }) =\u0026gt; { switch (request.format()) { case 'json': return [ { name: 'york'}, { name: 'leeggco'} ] default: return '- york- leeggco' } }).formats(['json']) // å¼ºåˆ¶æ ¼å¼ // .formats(['json', 'html'], true) // http://127.0.0.1:3333/users.json // http://127.0.0.1:3333/users  è·¯ç”±ç¾¤ç»„\nRoute .group(() =\u0026gt; { Route.get('users', () =\u0026gt; 'Manage users') Route.get('posts', () =\u0026gt; 'Manage posts') }) .prefix('admin') // http://127.0.0.1:3333/admin/users // http://127.0.0.1:3333/admin/posts  å•é¡µåº”ç”¨çš„è·¯ç”±\nRoute.any('*', ({ view }) =\u0026gt; view.render('welcome')) // http://127.0.0.1:3333/any  å®Œæ•´ä»£ç \n","id":6,"section":"posts","summary":"get è¯·æ±‚ Route.get('/posts', () =\u0026gt; 'Get has been created.') post è¯·æ±‚ Route.post('/posts', () =\u0026gt; 'Post has been created.') create åˆ›å»ºï¼Œè¿™é‡Œæœ‰ä¸ªé‡å¤è·¯ç”±çš„é—®é¢˜ï¼Œéœ€è¦æ”¾åœ¨posts/:id çš„å‰é¢ Route.get('/posts/create', 'PostController.create') è¯·æ±‚æŒ‡å®šæ•°æ®ï¼Œå¦‚æœä¸å¸Œæœ›å¼ºåˆ¶ä¼ å…¥","tags":["adonis"],"title":"Adonis â€”â€” è·¯ç”±","uri":"https://leeggco.com/2020/04/adonis-route/","year":"2020"},{"content":"å®‰è£…å‘½ä»¤ï¼ˆå…¨å±€ï¼‰\nnpm install @adonisjs/cli --global  æˆ–\nnpm i -g adonis-cli  å®‰è£…æ•°æ®åº“ï¼ˆsqlite3ï¼‰\nnpm install sqlite3  åˆ›å»ºé¡¹ç›®\nadonis new demo-adonis  è¿è¡Œé¡¹ç›®\nnpm run serve:dev  åˆ›å»ºæ§åˆ¶å™¨\nadonis make:controller Posts  åˆ›å»ºè§†å›¾\nadonis make:view posts  åˆ›å»ºæ•°æ®è¡¨\nadonis make:migration Post  ç”Ÿæˆæ•°æ®è¡¨\nadonis migration:run  ","id":7,"section":"posts","summary":"å®‰è£…å‘½ä»¤ï¼ˆå…¨å±€ï¼‰ npm install @adonisjs/cli --global æˆ– npm i -g adonis-cli å®‰è£…æ•°æ®åº“ï¼ˆsqlite3ï¼‰ npm install sqlite3 åˆ›å»ºé¡¹ç›® adonis new demo-adonis è¿è¡Œé¡¹ç›® npm run serve:dev åˆ›å»ºæ§åˆ¶å™¨ adonis make:controller Posts åˆ›å»ºè§†å›¾ adonis make:view posts åˆ›å»ºæ•°æ®è¡¨ adonis make:migration","tags":["adonis"],"title":"adonis â€”â€” å¸¸ç”¨å‘½ä»¤","uri":"https://leeggco.com/2020/04/adonis-command/","year":"2020"},{"content":"hello, Hugo ","id":8,"section":"posts","summary":"hello, Hugo ","tags":["test"],"title":"hello, world","uri":"https://leeggco.com/2020/04/hello-world/","year":"2020"}],"tags":[{"title":"adonis","uri":"https://leeggco.com/tags/adonis/"},{"title":"G6","uri":"https://leeggco.com/tags/g6/"},{"title":"index","uri":"https://leeggco.com/tags/index/"},{"title":"others","uri":"https://leeggco.com/tags/others/"},{"title":"test","uri":"https://leeggco.com/tags/test/"}]}